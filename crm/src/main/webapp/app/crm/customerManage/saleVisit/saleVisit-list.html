<div class="container-fluid">
    <!-- 标题 -->
    <div class="row">
        <div class="col-lg-12">
            <h2 class="page-header">拜访记录</h2>
        </div>
    </div>

    <!-- 条件 -->
    <div class="row">
        <div class="col-lg-12">
            <form rol="form" class="form-inline">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="餐馆ID" ng-model="searchForm.restaurantId"
                           refresh-enabled="Integer">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="餐馆名称" ng-model="searchForm.restaurantName"
                           refresh-enabled="String">
                </div>
                <div class="form-group">
                    <select class="form-control" ng-model="searchForm.activeType" ng-options="activeType.val as activeType.detail for activeType in activeTypes">
                        <option value="">请选择-客户类型</option>
                    </select>
                </div>
                <div class="form-group">
                    <select class="form-control" ng-model="searchForm.visitId" ng-options="visitor.id as visitor.realname for visitor in visitors">
                        <option value="">请选择-拜访者</option>
                    </select>
                </div>

                <div class="form-group">
                    <select class="form-control" ng-model="searchForm.visitStage" ng-options="visitStage.value as visitStage.name for visitStage in visitStages">
                        <option value="">请选择-拜访阶段</option>
                    </select>
                </div>

                <div class="form-group">
                    <select class="form-control" ng-model="searchForm.visitPurpose" ng-options="visitPurpose.value as visitPurpose.name for visitPurpose in visitPurposes">
                        <option value="">请选择-拜访目的</option>
                    </select>
                </div>

                <div class="form-group">
                    <div class="form-group">
                        <input type="text" class="form-control" datepicker-append-to-body="true" placeholder="拜访日期"
                               datetime-picker="{{dateOptions.dateFormat}}" ng-model="searchForm.startVisitTime"
                               is-open="isVisitTimeOpen" datepicker-options="dateOptions" timepicker-Options="timeOptions"
                               today-text="今日" now-text="现在" clear-text="清除" date-text="日期" time-text="时间"
                               close-text="关闭" ng-click="visitTimeOpen($event)" refresh-enabled="Date" date-for-search/>
                        至
                        <input type="text" class="form-control" datepicker-append-to-body="true" placeholder="拜访日期"
                               datetime-picker="{{dateOptions.dateFormat}}" ng-model="searchForm.endVisitTime"
                               is-open="isNextVisitTimeOpen" datepicker-options="dateOptions" timepicker-Options="timeOptions"
                               today-text="今日" now-text="现在" clear-text="清除" date-text="日期" time-text="时间"
                               close-text="关闭" ng-click="nextVisitTimeOpen($event)" refresh-enabled="Date" date-for-search/>
                    </div>
                </div>


                <div class="form-group">
                    <input type="text" class="form-control" placeholder="销售员" ng-model="searchForm.sellerName"
                           refresh-enabled="String">
                </div>
                <br>
                <button type="submit" class="btn btn-primary" ng-click="search()">&nbsp;&nbsp;搜&nbsp;&nbsp;索&nbsp;&nbsp;</button>
                <button type="submit" class="btn btn-primary" ng-click="clear()">&nbsp;&nbsp;清&nbsp;&nbsp;空&nbsp;&nbsp;</button>
                <button type="button" ui-sref="crm.saleVisit-detail" class="btn btn-info">&nbsp;&nbsp;添&nbsp;&nbsp;加&nbsp;&nbsp;</button>
                <button type="button" ng-click="export()" class="btn btn-info">&nbsp;&nbsp;导&nbsp;&nbsp;出&nbsp;&nbsp;</button>
            </form>
        </div>
    </div>
    <br>

    <!-- 列表 -->
    <div class="row">
        <div class="col-lg-12 dataTable_wrapper table-responsive" style="overflow-x:auto;white-space:nowrap;">
            <table class="table table-striped  table-bordered table-hover">
                <thead>
                <tr>
                    <th>操作</th>
                    <th>拜访人</th>
                    <th>拜访时间</th>
                    <th>餐馆ID</th>
                    <th>餐馆名称</th>
                    <th>客户类型</th>
                    <th>拜访阶段</th>
                    <th>拜访目的</th>
                    <th>合作意向产品</th>
                    <th>遇到问题</th>
                    <th>解决对策</th>
                    <th>销售员</th>
                    <th>备注</th>
                    <th>创建时间</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in saleVisits">
                    <td>
                        <a class="btn btn-xs btn-primary" ui-sref="crm.saleVisit-detail({id:item.id})">编辑</a>
                        <a class="btn btn-xs btn-primary" ng-click="delete(item.id)">删除</a>
                    </td>
                    <td>{{item.visitorName}}</td>
                    <td>{{item.visitTime | date : "yyyy-MM-dd hh:mm"}}</td>
                    <td>{{item.restaurantId}}</td>
                    <td>{{item.restaurantName}}</td>
                    <td>{{item.restaurantActiveType}}</td>
                    <td>{{item.visitStage}}</td>
                    <td>{{item.visitPurposes}}</td>
                    <td>{{item.intentionProductions}}</td>
                    <td>{{item.visitTroubles}}</td>
                    <td>{{item.visitSolutions}}</td>
                    <td>{{item.sellerName}}</td>
                    <td>{{item.remark}}</td>
                    <td>{{item.createTime | date : "yyyy-MM-dd hh:mm"}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 列表底部分页 -->
    <div class="row" align="center">
        <div calss="col-lg-12">
            <pagination total-items="page.totalItems" ng-model="page.currentPage" items-per-page="page.itemsPerPage"
                        max-size="10" class="pagination" boundary-links="true" ng-change="pageChanged()" first-text="首页"
                        last-text="尾页" previous-text="上一页" next-text="下一页">
            </pagination>
        </div>
    </div>

</div>
    